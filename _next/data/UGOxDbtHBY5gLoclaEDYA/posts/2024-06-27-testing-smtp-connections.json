{"pageProps":{"post":{"slug":"2024-06-27-testing-smtp-connections","markdownBody":"\nJust a quick note to my future self on how to test a SMTP connection with nothing but a tiny busybox container.\r\n\r\nIn my case specifically, I tested the connection from inside a Kubernetes cluster. Here's the quickest way to get a temporary pod up and running:\r\n\r\n```\r\nkubectl run -n backend -i --tty --rm debug --image=busybox --restart=Never\r\n```\r\n\r\nBusybox comes with telnet installed, which we can use to establish a connection to the server:\r\n\r\n```\r\n/ # telnet smtp.mydomain.com 25\r\nConnected to smtp.mydomain.com\r\n220 mail.mydomain.com ESMTP Postfix (SMTP)\r\n```\r\n\r\nNext, we can issue the SMTP commands through the open TCP connection to send a test mail. Lines beginning with a status code are server responses:\r\n\r\n```\r\nHELO smtp.mydomain.com\r\n250 smtp.mydomain.com\r\nMAIL FROM:<noreply@mydomain.com>                         \r\n250 2.1.0 Ok\r\nRCPT TO:<receiver@foo.com>\r\n250 2.1.5 Ok\r\nDATA  \r\n354 End data with <CR><LF>.<CR><LF>\r\nFrom: [noreply] <noreply@mydomain.com>\r\nTo: [Receiver] <receiver@foo.com>\r\nDate: Thu, 27 Jun 2024 10:08:26 -0200\r\nSubject: Test Message\r\n\r\nThis is a test message.\r\n\r\n.\r\n250 2.0.0 Ok: queued as 2478B7F135\r\n```\r\n\r\nIn case there's a firewall issue, you might not be able to establish a connection in the first place, or you won't get a reply to your TCP commands. In our case, everything worked fine.\r\n\r\nI hope this is useful!\n","frontmatter":{"title":"Testing SMTP connections","date":"2024-06-27","tags":"infrastructure, guide, note, learnings, tech"},"tags":["infrastructure","guide","note","learnings","tech"]},"recommendedPosts":[{"slug":"2024-09-24-installing-mssql-client-drivers-for-a-php-application","frontmatter":{"title":"Installing MSSQL Client Drivers for a PHP Application","date":"2024-09-24","tags":"guide, note, web, tech, programming, php"},"tags":["guide","note","web","tech","programming","php"]},{"slug":"2024-08-31-sentiment-analysis-using-ml-models","frontmatter":{"title":"Sentiment analysis using ML models","date":"2024-08-31","tags":"note, tech, ai"},"tags":["note","tech","ai"]},{"slug":"2024-08-03-how-embedding-models-encode-semantic-meaning","frontmatter":{"title":"How embedding models encode semantic meaning","date":"2024-08-03","tags":"note, tech, math, llm, ai"},"tags":["note","tech","math","llm","ai"]},{"slug":"2024-07-02-linkdump-llms","frontmatter":{"title":"ðŸ”— Linkdump: LLMs","date":"2024-07-02","tags":"note, tech, linkdump, llm, ai"},"tags":["note","tech","linkdump","llm","ai"]},{"slug":"2024-06-17-host-your-own-llm","frontmatter":{"title":"Host your own LLM","date":"2024-06-17","tags":"infrastructure, guide, note, homelab, tech, llm, ai"},"tags":["infrastructure","guide","note","homelab","tech","llm","ai"]}]},"__N_SSG":true}